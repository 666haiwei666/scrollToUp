function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e,n,r,o,i,s){try{var u=t[i](s),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return u(t)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=i(t);if(e){var o=i(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],s=!0,u=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);s=!0);}catch(t){u=!0,o=t}finally{try{s||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var p,v={exports:{}},y="object"==typeof Reflect?Reflect:null,d=y&&"function"==typeof y.apply?y.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};p=y&&"function"==typeof y.ownKeys?y.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var m=Number.isNaN||function(t){return t!=t};function h(){h.init.call(this)}v.exports=h,v.exports.once=function(t,e){return new Promise((function(n,r){function o(n){t.removeListener(e,i),r(n)}function i(){"function"==typeof t.removeListener&&t.removeListener("error",o),n([].slice.call(arguments))}C(t,e,i,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&C(t,"error",e,n)}(t,o,{once:!0})}))},h.EventEmitter=h,h.prototype._events=void 0,h.prototype._eventsCount=0,h.prototype._maxListeners=void 0;var b=10;function w(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function g(t){return void 0===t._maxListeners?h.defaultMaxListeners:t._maxListeners}function O(t,e,n,r){var o,i,s,u;if(w(n),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),s=i[e]),void 0===s)s=i[e]=n,++t._eventsCount;else if("function"==typeof s?s=i[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=g(t))>0&&s.length>o&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=s.length,u=c,console&&console.warn&&console.warn(u)}return t}function L(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function E(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=L.bind(r);return o.listener=n,r.wrapFn=o,o}function _(t,e,n){var r=t._events;if(void 0===r)return[];var o=r[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):T(o,o.length)}function x(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function T(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function C(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function o(i){r.once&&t.removeEventListener(e,o),n(i)}))}}Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return b},set:function(t){if("number"!=typeof t||t<0||m(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");b=t}}),h.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},h.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||m(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},h.prototype.getMaxListeners=function(){return g(this)},h.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var i;if(e.length>0&&(i=e[0]),i instanceof Error)throw i;var s=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw s.context=i,s}var u=o[t];if(void 0===u)return!1;if("function"==typeof u)d(u,this,e);else{var c=u.length,a=T(u,c);for(n=0;n<c;++n)d(a[n],this,e)}return!0},h.prototype.addListener=function(t,e){return O(this,t,e,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(t,e){return O(this,t,e,!0)},h.prototype.once=function(t,e){return w(e),this.on(t,E(this,t,e)),this},h.prototype.prependOnceListener=function(t,e){return w(e),this.prependListener(t,E(this,t,e)),this},h.prototype.removeListener=function(t,e){var n,r,o,i,s;if(w(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},h.prototype.off=h.prototype.removeListener,h.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},h.prototype.listeners=function(t){return _(this,t,!0)},h.prototype.rawListeners=function(t){return _(this,t,!1)},h.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):x.call(t,e)},h.prototype.listenerCount=x,h.prototype.eventNames=function(){return this._eventsCount>0?p(this._events):[]};var j=v.exports;function k(t,e){var n,r;for(n in e)(r=e[n])&&(t[n]=r);return t}var S=function(t,e){return t.getAttribute(e)},I=function(t,e,n){t.setAttribute(e,n)};function A(t,e,n,r){return t.addEventListener?(t.addEventListener(e,n,r),{remove:function(){t.removeEventListener(e,n,r)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0}var B=!!document,D=["moz","webkit","o","ms"];function P(t){return D.some((function(e){var n=e+t.replace(/^./,(function(t){return t.toUpperCase()}));return t in document.documentElement.style||n in document.documentElement.style}))}function R(t){var e="";return Object.entries(t).forEach((function(t){var n=l(t,2),r=n[0],o=n[1];e+="".concat(r,":").concat(o,";")})),e}var M={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},N="scrollToUp",Q=null,U=null,F=function(i){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(d,j);var c,l,f,p,v,y=a(d);function d(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(n(this,d),o(u(t=y.call(this)),"defaultOptions",{scrollTarget:null,scrollContainer:null,scrollButtonName:".scrollUp",scrollButtonDistance:100,scrollButtonBottom:20,scrollContent:"Scroll to top",easingType:"linear",keyframesIn:"fadeIn",keyframesOut:"fadeOut",animationDelay:0,animattionDuration:200,customScrollButton:"",zIndex:2147483647}),o(u(t),"container",null),o(u(t),"scrollY",0),!B)throw new Error("The current environment is not a browser environment");P("animation")||console.warn('The current browser does not support "tranfrom" properties, so easingType, keyframes, animationDelay and animattionDuration cannot be used ');var r=t.container&&t.container==window&&S(document.body,N),i=t.container&&t.container==window&&S(document.body,N);return r&&i||(Q=u(t),t.defaultOptions=k(t.defaultOptions,e),t.onInit()),t}return c=d,l=[{key:"onInit",value:function(){this.createElement();var t=function(t,e,n,r){var o,i=!1,s=0;function u(){o&&clearTimeout(o)}function c(){for(var c=arguments.length,a=new Array(c),l=0;l<c;l++)a[l]=arguments[l];var f=this,p=Date.now()-s;function v(){s=Date.now(),n.apply(f,a)}function y(){o=void 0}i||(r&&!o&&v(),u(),void 0===r&&p>t?v():!0!==e&&(o=setTimeout(r?y:v,void 0===r?t-p:t)))}return"boolean"!=typeof e&&(r=n,n=e,e=void 0),c.cancel=function(){u(),i=!0},c}(this.defaultOptions.animattionDuration,this.clickEvent);this.clickListenr=A(U,"click",t),this.scrollListenr=A(this.container,"scroll",this.onScrollButtonAni)}},{key:"createElement",value:function(){var e=this.defaultOptions,n=e.scrollContainer,r=e.customScrollButton;e.scrollButtonBottom;var o=e.scrollContent;e.zIndex;var i,s=document.createElement("div"),u={title:o,id:"scrollDefaultButton",class:"scrollDefaultButtonStyle"};for(var c in u)I(s,c,u[c]);if(s.innerHTML=r||this.defaultOptions.scrollContent,(U=s).style.display="none","[object String]"==Object.prototype.toString.call(n))if(n.startsWith(".")){var a=document.querySelectorAll(n);a[0].appendChild(s),this.container=a[0],I(this.container,N,!0),I(this.container,"style","position: relative;")}else if(n.startsWith("#")){var l=document.querySelector(n);l.appendChild(s),this.container=l,I(this.container,N,!0),I(this.container,"style","position: relative;")}else console.warn("The element does not exist on the current page");else(i=n)&&"object"===t(i)&&1==i.nodeType&&"string"==typeof i.nodeName?(n.appendChild(s),I(this.container,"style","position: relative"),this.container=n,I(this.container,N,!0)):(this.defaultOptions.scrollContainer=window,document.body.appendChild(s),this.container=window,I(document.body,N,!0));this.setAnimation()}},{key:"scrollEvent",value:(p=regeneratorRuntime.mark((function t(){var e,n,r,o,i,s,u,c,a,l=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=Q.container==window?document.documentElement||document.body:Q.container,n=Q.defaultOptions,r=n.easingType,o=n.scrollTarget,i=Date.now(),s=e.scrollTop,u=o||s,c=window.requestAnimationFrame||function(t){return setTimeout(t,16)},a=function t(){var n=s*M[r]((Date.now()-i)/500),o=e.scrollTop-u<=0?u:e.scrollTop-u,a=o<n?o:n,f=Number(U.style.bottom.replace(/px/,""));e.scrollTop-=a,Q.emit("on-scrolling",l.defaultOptions,U),Q.container!==window&&(U.style.bottom=f+a+"px"),s-e.scrollTop<=u&&0!==e.scrollTop?c(t):(U.style.bottom="20px",Q.emit("on-end-scroll",l.defaultOptions,U))},c(a);case 8:case"end":return t.stop()}}),t)})),v=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=p.apply(t,n);function s(t){e(i,r,o,s,u,"next",t)}function u(t){e(i,r,o,s,u,"throw",t)}s(void 0)}))},function(){return v.apply(this,arguments)})},{key:"onScrollButtonAni",value:function(){var t=Q.defaultOptions,e=t.scrollContainer,n=t.scrollButtonDistance,r=t.keyframesIn,o=t.keyframesOut,i=t.scrollButtonBottom,s=Q.container==window?document.documentElement.scrollTop||document.body.scrollTop:Q.container.scrollTop,u=n||300,c=Q.getDirection(s),a={position:e&&e!=window?"absolute":"",display:"block"};s>=u&&"down"==c?(a=Object.assign(a,{"animation-name":r}),I(U,"style",U.style.cssText+R(a))):s<u&&"up"==c&&(a=Object.assign(a,{"animation-name":o}),I(U,"style",U.style.cssText+R(a))),Q.container!==window&&(U.style.bottom=i-s+"px")}},{key:"setAnimation",value:function(){var t=Q.defaultOptions;t.scrollButtonDistance;var e=t.animationDelay,n=t.animattionDuration;t.keyframesIn,t.keyframesOut;var r=t.easingType,o=t.zIndex,i=t.scrollContainer,s=t.scrollButtonBottom,u={"z-Index":o,"animation-duration":n+"ms","animation-timing-function":r,"animation-delay":e+"ms",position:i&&i!=window?"absolute":"",bottom:s+"px"};I(U,"style",R(u)+U.style.cssText)}},{key:"getDirection",value:function(t){return t-Q.scrollY>0?(Q.scrollY=t,"down"):t-Q.scrollY<0?(Q.scrollY=t,"up"):void 0}},{key:"clickEvent",value:function(){Q.emit("on-start-scroll",this.defaultOptions,U),Q.scrollEvent()}},{key:"destroyed",value:function(){this.defaultOptions.scrollContainer.removeChild(U),U=null,this.clickListenr.remove()}}],l&&r(c.prototype,l),f&&r(c,f),d}();window.scrollToUp=F;export{F as default};
